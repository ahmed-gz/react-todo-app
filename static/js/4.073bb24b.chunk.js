(window["webpackJsonpreact-todo-app"]=window["webpackJsonpreact-todo-app"]||[]).push([[4],{401:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(469),r=Object(a.a)((function(e){return{button:{margin:e.spacing(1),"&:disabled":{cursor:"not-allowed",pointerEvents:"auto"}},input:{margin:e.spacing(1)},link:{margin:e.spacing(1)}}}))},416:function(e,t,n){"use strict";var a=n(400),r=n(1),c=n.n(r),o=n(475),i=n(478),s=n(472),l=n(480),u=n(484),d=n(476),f=n(401);n(417);t.a=function(e){var t=e.onToggle,n=e.onUpdate,m=e.onDelete,p=e.id,b=e.title,v=e.completed,x=Object(r.useState)(!1),g=Object(a.a)(x,2),j=g[0],h=g[1],O=Object(r.useRef)(null),w=Object(f.a)();return Object(r.useEffect)((function(){O.current&&O.current.focus()}),[j]),c.a.createElement(o.a,{className:"todo-item"},j?c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O.current.value.trim()&&(n(O.current.value),h(!1))}},c.a.createElement(l.a,{"data-testid":"title",inputRef:O,fullWidth:!0,defaultValue:b,className:w.input,label:"Title",multiline:!0,margin:"normal",variant:"outlined"}),c.a.createElement(u.a,{"data-testid":"completed",color:"default",className:w.input,value:v,onChange:t}),c.a.createElement(s.a,{variant:"contained",color:"secondary",className:w.button,onClick:m},"Delete"),c.a.createElement(s.a,{variant:"contained",color:"primary",className:w.button,"data-testid":"submit",type:"submit"},"Update"),c.a.createElement(s.a,{variant:"contained","data-testid":"cancel",className:w.button,onClick:function(){return h(!1)}},"Cancel"),c.a.createElement(d.a,{href:"/#/todo/".concat(p),className:w.link},"View")):c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{"data-testid":"title",className:v?"completed":"active"},b),c.a.createElement(u.a,{"data-testid":"completed",color:"default",className:w.input,value:v,onChange:t}),c.a.createElement(s.a,{variant:"contained",color:"secondary",className:w.button,onClick:m},"Delete"),c.a.createElement(s.a,{"data-testid":"edit",variant:"contained",color:"primary",className:w.button,onClick:function(){return h(!0)}},"Edit"),c.a.createElement(d.a,{href:"/#/todo/".concat(p),className:w.link},"View")))}},417:function(e,t,n){},418:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));var a="http://www.mocky.io/v2/5d8ce55b2e0000fbcfabddc3?mocky-delay=2s",r="https://jsonplaceholder.typicode.com/todos/",c="https://jsonplaceholder.typicode.com/todos/"},443:function(e,t,n){},483:function(e,t,n){"use strict";n.r(t);var a=n(410),r=n.n(a),c=n(399),o=n(398),i=n(411),s=n(400),l=n(1),u=n.n(l),d=n(479),f=n(482),m=n(477),p=n(392),b=n(13),v=(n(54),n(393)),x=n(394),g=[0,1,2,3,4,5,6,7,8,9,10],j=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var O=u.a.forwardRef((function(e,t){var n=e.alignContent,a=void 0===n?"stretch":n,r=e.alignItems,c=void 0===r?"stretch":r,o=e.classes,i=e.className,s=e.component,l=void 0===s?"div":s,d=e.container,f=void 0!==d&&d,m=e.direction,x=void 0===m?"row":m,g=e.item,j=void 0!==g&&g,h=e.justify,O=void 0===h?"flex-start":h,w=e.lg,y=void 0!==w&&w,E=e.md,k=void 0!==E&&E,S=e.sm,C=void 0!==S&&S,T=e.spacing,N=void 0===T?0:T,W=e.wrap,P=void 0===W?"wrap":W,D=e.xl,I=void 0!==D&&D,M=e.xs,z=void 0!==M&&M,A=e.zeroMinWidth,F=void 0!==A&&A,R=Object(p.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),U=Object(v.a)(o.root,i,f&&[o.container,0!==N&&o["spacing-xs-".concat(String(N))]],j&&o.item,F&&o.zeroMinWidth,"row"!==x&&o["direction-xs-".concat(String(x))],"wrap"!==P&&o["wrap-xs-".concat(String(P))],"stretch"!==c&&o["align-items-xs-".concat(String(c))],"stretch"!==a&&o["align-content-xs-".concat(String(a))],"flex-start"!==O&&o["justify-xs-".concat(String(O))],!1!==z&&o["grid-xs-".concat(String(z))],!1!==C&&o["grid-sm-".concat(String(C))],!1!==k&&o["grid-md-".concat(String(k))],!1!==y&&o["grid-lg-".concat(String(y))],!1!==I&&o["grid-xl-".concat(String(I))]);return u.a.createElement(l,Object(b.a)({className:U,ref:t},R))}));var w=Object(x.a)((function(e){return Object(b.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return g.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(h(r,2)),width:"calc(100% + ".concat(h(r),")"),"& > $item":{padding:h(r,2)}})})),n}(e,"xs"),{},e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};j.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(b.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(O),y=n(472),E=n(480),k=n(401),S=function(e){var t=e.disabled,n=e.onAddTodo,a=e.onRefetch,r=Object(l.useRef)(null),c=Object(k.a)();return u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r.current.value.trim()&&(n(r.current.value),r.current.value="")}},u.a.createElement(w,{container:!0,spacing:2,alignItems:"center"},u.a.createElement(w,{item:!0,xs:3},u.a.createElement(w,{container:!0,justify:"center"},u.a.createElement(y.a,{variant:"contained",size:"large",color:"primary",fullWidth:!0,className:c.button,onClick:a,disabled:t},"Reload Todos"))),u.a.createElement(w,{item:!0,xs:6},u.a.createElement(w,{container:!0,justify:"center"},u.a.createElement(E.a,{"data-testid":"title",inputRef:r,fullWidth:!0,placeholder:"Todo title",disabled:t,className:c.input,label:"Title",multiline:!0,margin:"normal",variant:"outlined"}))),u.a.createElement(w,{item:!0,xs:3},u.a.createElement(w,{container:!0,justify:"center"},u.a.createElement(y.a,{type:"submit",variant:"contained",size:"large",fullWidth:!0,className:c.button,disabled:t},"Add Todo")))))},C=(n(443),n(474)),T=n(473),N=n(416),W=function(e){var t=e.todos,n=e.toggleTodo,a=e.updateTodo,r=e.deleteTodo;return u.a.createElement(T.a,{className:"container todo-list"},u.a.createElement(C.a,null,t.map((function(e){return u.a.createElement(N.a,Object.assign({key:e.id},e,{onToggle:function(t){return n(e.id,t)},onUpdate:function(t){return a(e.id,t)},onDelete:function(){return r(e.id)}}))}))))},P="SHOW_ALL",D="SHOW_COMPLETED",I="SHOW_ACTIVE",M=function(e){var t=e.disabled,n=e.activeFilter,a=e.onFilterChange,r=Object(k.a)();return u.a.createElement(d.a,{maxWidth:"md",className:"todo-filter"},u.a.createElement(f.a,{mx:"10px",my:"20px"},u.a.createElement(y.a,{disabled:t||n===P,variant:"contained",className:r.button,onClick:function(){return a(P)}},"All"),u.a.createElement(y.a,{disabled:t||n===I,variant:"contained",className:r.button,onClick:function(){return a(I)}},"Active"),u.a.createElement(y.a,{disabled:t||n===D,variant:"contained",className:r.button,onClick:function(){return a(D)}},"Completed")))},z=n(115),A=n(418),F=function(){var e=Object(l.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(l.useState)(!1),o=Object(s.a)(c,2),u=o[0],d=o[1],f=Object(l.useState)(!1),m=Object(s.a)(f,2),p=m[0],b=m[1],v=function(){var e=Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),b(!0),e.prev=2,e.next=5,fetch(A.a);case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,a(n),console.log("Todos fetched"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Error: ",e.t0),d(!0);case 17:return e.prev=17,b(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(A.b,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),console.log("Error : ",e.t0),d(!0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,2e3)}));case 3:return e.next=5,fetch(A.b+t,{method:"PATCH",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}});case 5:return a=e.sent,e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(0),console.log("Error : ",e.t0),d(!0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,2e3)}));case 3:return e.next=5,fetch(A.b+t,{method:"DELETE"});case 5:return n=e.sent,e.next=8,n.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(0),console.log("Error:",e.t0),d(!0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){v()}),[]),[n,p,u,a,d,v,x,g,j]};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=u.a.memo((function(){var e=F([]),t=Object(s.a)(e,9),n=t[0],a=t[1],c=t[2],p=t[3],b=t[4],v=t[5],x=t[6],g=t[7],j=t[8],h=Object(l.useState)([]),O=Object(s.a)(h,2),w=O[0],y=O[1],E=Object(l.useState)(P),k=Object(s.a)(E,2),C=k[0],T=k[1];Object(l.useEffect)((function(){var e=n.filter((function(e){return C===D?e.completed:C!==I||!e.completed}));y(e)}),[n,C]);var N=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:t,completed:!1,userId:1},e.next=3,x(a);case 3:c=e.sent,i=Math.floor(1e3*Math.random()+c.id),p([U({},c,{id:i})].concat(Object(o.a)(n)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(r.a.mark((function e(t,a){var c,i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.findIndex((function(e){return e.id===t})),i=U({},n[c],{completed:a.target.checked}),p([].concat(Object(o.a)(n.slice(0,c)),[i],Object(o.a)(n.slice(c+1)))),e.next=5,g(t,{completed:i.completed});case 5:if(e.sent){e.next=12;break}return s=U({},i,{completed:!i.completed}),p([].concat(Object(o.a)(n.slice(0,c)),[s],Object(o.a)(n.slice(c+1)))),e.next=11,new Promise((function(e){return setTimeout(e,2e3)}));case 11:b(!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(r.a.mark((function e(t,a){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(o.a)(n),i=n.map((function(e){return e.id===t?U({},e,{title:a}):e})),p(i),e.next=5,g(t,{title:a});case 5:if(e.sent){e.next=11;break}return p(c),e.next=10,new Promise((function(e){return setTimeout(e,2e3)}));case 10:b(!1);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.findIndex((function(e){return e.id===t})),c=n[a],p([].concat(Object(o.a)(n.slice(0,a)),Object(o.a)(n.slice(a+1)))),e.next=5,j(t);case 5:if(e.sent){e.next=11;break}return p([].concat(Object(o.a)(n.slice(0,a)),[c],Object(o.a)(n.slice(a+1)))),e.next=10,new Promise((function(e){return setTimeout(e,2e3)}));case 10:b(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(d.a,{maxWidth:"md",className:"app"},u.a.createElement(f.a,{mx:"10px",my:"20px"},u.a.createElement(S,{disabled:c||a,onRefetch:v,onAddTodo:function(e){return N(e)}}),c&&u.a.createElement(m.a,{color:"textPrimary"},"Something went wrong, please try again."),a&&u.a.createElement(z.a,null),u.a.createElement(M,{disabled:c||a,activeFilter:C,onFilterChange:T}),u.a.createElement(W,{todos:w,toggleTodo:A,updateTodo:R,deleteTodo:G})))}))}}]);
//# sourceMappingURL=4.073bb24b.chunk.js.map